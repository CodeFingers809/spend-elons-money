"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js")});const buySound=new Audio("./assets/cha-ching.mp3");let priceOfProduct,numberOfProduct,currentProduct,totalAmount=164e9,amountUsed=0,amountLeft=164e9,percentUsed=0,products=[{valueNum:"prod1",name:"Nintendo Switch",image:"assets/prod1.webp",price:299,number:0},{valueNum:"prod2",name:"PS5",image:"assets/prod2.webp",price:499,number:0},{valueNum:"prod3",name:"Xbox series X",image:"assets/prod3.webp",price:499,number:0},{valueNum:"prod4",name:"Iphone 12 pro max",image:"assets/prod4.webp",price:1399,number:0},{valueNum:"prod5",name:"Apple Ipad Pro",image:"assets/prod5.webp",price:2199,number:0},{valueNum:"prod6",name:"Ultimate Gaming PC",image:"assets/prod6.webp",price:4950,number:0},{valueNum:"prod7",name:"Top Spec Laptop",image:"assets/prod7.webp",price:3699,number:0},{valueNum:"prod8",name:"Apple Macbook Pro",image:"assets/prod8.webp",price:2799,number:0},{valueNum:"prod9",name:"Top Spec Mac Pro",image:"assets/prod9.webp",price:53247,number:0},{valueNum:"prod10",name:"Entire Steam Game Library",image:"assets/prod10.webp",price:537192,number:0},{valueNum:"prod11",name:"Netflix premium for 100 years",image:"assets/prod11.webp",price:21588,number:0},{valueNum:"prod12",name:"Spotify for 100 years",image:"assets/prod12.webp",price:19200,number:0},{valueNum:"prod13",name:"Entire production of Nvidia GPUs for 2022",image:"assets/prod13.webp",price:7e8,number:0},{valueNum:"prod14",name:"LG 88' OLED 8K ThinQ®",image:"assets/prod14.webp",price:19999,number:0},{valueNum:"prod15",name:"Fiat 500",image:"assets/prod15.webp",price:19e3,number:0},{valueNum:"prod16",name:"Toyota Camry",image:"assets/prod16.webp",price:29e3,number:0},{valueNum:"prod17",name:"Tesla Model S Plaid",image:"assets/prod17.webp",price:132e3,number:0},{valueNum:"prod18",name:"Ferrari F8",image:"assets/prod18.webp",price:276e3,number:0},{valueNum:"prod19",name:"Lamborghini Aventador SVJ",image:"assets/prod19.webp",price:512e3,number:0},{valueNum:"prod20",name:"Bugatti La Voiture Noire",image:"assets/prod20.webp",price:11e6,number:0},{valueNum:"prod21",name:"1000 Acres of land",image:"assets/prod21.webp",price:41e5,number:0},{valueNum:"prod22",name:"Private Island, Central America (medium size)",image:"assets/prod22.webp",price:495e4,number:0},{valueNum:"prod23",name:"Eating out for 100 years (4 meals/day)",image:"assets/prod23.webp",price:3e6,number:0},{valueNum:"prod24",name:"Diamond Ring (Tiffany - 1 carat)",image:"assets/prod24.webp",price:17e3,number:0},{valueNum:"prod25",name:"Rolex Watch",image:"assets/prod25.webp",price:12e3,number:0},{valueNum:"prod26",name:"Les Femmes d’Alger by Picasso",image:"assets/prod26.webp",price:1794e5,number:0},{valueNum:"prod27",name:"Monalisa by Leonardo da Vinci (estimate)",image:"assets/prod27.webp",price:869e6,number:0},{valueNum:"prod28",name:"Helicopter Bell 206",image:"assets/prod28.webp",price:75e4,number:0},{valueNum:"prod29",name:"One week in EVERY country of the planet",image:"assets/prod29.webp",price:795e3,number:0},{valueNum:"prod30",name:"Private Jet",image:"assets/prod30.webp",price:17e6,number:0},{valueNum:"prod31",name:"Produce a Hollywood Movie",image:"assets/prod31.webp",price:9e7,number:0},{valueNum:"prod32",name:"Regular Apartment (2 bd, 2 ba)",image:"assets/prod32.webp",price:25e4,number:0},{valueNum:"prod33",name:"Paris Luxury Apartment(3 bd, 4 ba)",image:"assets/prod33.webp",price:3e6,number:0},{valueNum:"prod34",name:"L.A Home (5 bd, 6 ba)",image:"assets/prod34.webp",price:6e6,number:0},{valueNum:"prod35",name:"L.A Mega Mansion (8 bd, 20 ba)",image:"assets/prod35.webp",price:52e6,number:0},{valueNum:"prod36",name:"Modern Building (35 condos + 10 Offices)",image:"assets/prod36.webp",price:12e6,number:0},{valueNum:"prod37",name:"Sailboat",image:"assets/prod37.webp",price:13e4,number:0},{valueNum:"prod38",name:"Mega Yacht",image:"assets/prod38.webp",price:3e8,number:0}];function prodToCards(e){e.forEach(e=>{let r=`\n    <div class="col-sm-4">\n      <div class="card ${e.valueNum}">\n      <img srcset="${e.image} 3x" loading="lazy" class="card-img-top" alt="Image" height="250" width="auto">\n        <div class="card-body">\n          <h5 class="card-title">${e.name}</h5>\n          <p class="card-text">$${e.price}</p>\n          <div class="btnContainer">\n            <button class="btn btn-danger sellBtn me-1" disabled=true>Sell</button>\n            <div class="buyNumber bg-light border border-secondary rounded m-2">${e.number}</div>\n            <button class="btn btn-success buyBtn ms-1">Buy</button>\n          </div>\n        </div>\n      </div>\n    </div>`;document.querySelector(".row").innerHTML+=r}),addEvents()}function addEvents(){document.querySelectorAll(".buyBtn").forEach(e=>{e.addEventListener("click",e=>{if(currentProduct=products.find(r=>r.valueNum===e.target.parentElement.parentElement.parentElement.classList[1]),priceOfProduct=currentProduct.price,numberOfProduct=currentProduct.number,amountLeft>=priceOfProduct){let r=parseInt(e.target.parentElement.querySelector(".buyNumber").innerText);e.target.parentElement.querySelector(".buyNumber").innerHTML=++r,amountUsed+=priceOfProduct,amountLeft-=priceOfProduct,products.find(r=>r.valueNum===e.target.parentElement.parentElement.parentElement.classList[1]).number++,e.target.parentElement.querySelector(".sellBtn").removeAttribute("disabled"),changeRemaining(),changePercent(),buySound.load(),buySound.play(),changeReceipt(currentProduct,"add")}else priceOfProduct>amountLeft&&cantAfford()})}),document.querySelectorAll(".sellBtn").forEach(e=>{e.addEventListener("click",e=>{if(currentProduct=products.find(r=>r.valueNum===e.target.parentElement.parentElement.parentElement.classList[1]),priceOfProduct=currentProduct.price,(numberOfProduct=currentProduct.number)>0){let r=parseInt(e.target.parentElement.querySelector(".buyNumber").innerText);e.target.parentElement.querySelector(".buyNumber").innerHTML=--r,amountUsed-=priceOfProduct,amountLeft+=priceOfProduct,products.find(r=>r.valueNum===e.target.parentElement.parentElement.parentElement.classList[1]).number--,0===(numberOfProduct=products.find(r=>r.valueNum===e.target.parentElement.parentElement.parentElement.classList[1]).number)&&e.target.setAttribute("disabled",!0),changeRemaining(),changePercent(),buySound.load(),buySound.play(),changeReceipt(currentProduct,"remove")}})})}function changeRemaining(){moneyLeft.innerHTML=amountLeft}function changePercent(){const e=`You have used ${percentUsed=(amountUsed/totalAmount*100).toFixed(6)}% of Elon's money so far!`;moneySpent.innerHTML=e,0===amountUsed&&(moneySpent.innerHTML="You haven't spent a single dollar, start spending!")}function cantAfford(){moneyLeft.innerHTML="Can't afford that!",moneySpent.innerHTML="Sell something!"}function changeReceipt(e,r){if('<tr><td colspan="3">Nothing has been bought yet!</td></tr>'===receipt.innerHTML.trim()&&(receipt.innerHTML=""),"add"===r)if(receipt.querySelector("."+e.valueNum)){let r=receipt.querySelector("."+e.valueNum);r.querySelector(".amount").innerHTML="x"+e.number,r.querySelector(".price").innerHTML="$"+e.number*e.price}else{let r=document.createElement("tr");r.setAttribute("class",e.valueNum);let t=document.createElement("td");t.appendChild(document.createTextNode(e.name)),t.setAttribute("class","name"),r.appendChild(t);let a=document.createElement("td");a.appendChild(document.createTextNode("x"+e.number)),a.setAttribute("class","amount"),r.appendChild(a);let n=document.createElement("td");n.appendChild(document.createTextNode("$"+e.number*e.price)),n.setAttribute("class","price"),r.appendChild(n),receipt.appendChild(r)}else if("remove"===r&&receipt.querySelector("."+e.valueNum)){if(e.number>=1){let r=receipt.querySelector("."+e.valueNum);r.querySelector(".amount").innerHTML="x"+e.number,r.querySelector(".price").innerHTML="$"+e.number*e.price}else 0===e.number&&receipt.removeChild(receipt.querySelector("."+e.valueNum));0===amountUsed&&(receipt.innerHTML='<tr><td colspan="3">Nothing has been bought yet!</td></tr>')}receiptTotal.innerText=amountUsed}prodToCards(products);